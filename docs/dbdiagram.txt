// AUTH SERVICE

Table users {
  uuid varchar unique
  email varchar unique
  password_hash varchar
  first_name varchar
  last_name varchar
  patronymic varchar
  created_at timestamp
}

// ENTERPRISE SERVICE

Enum roles {
  "not_belong"
  "not_stated"
  "engineer"
  "manager"
  "chief"
}

Table enterprises {
  uuid varchar unique
  title varchar
}

Table enterprise_employees {
  enterprise_uuid varchar
  user_uuid varchar
  role roles
}

// DEPARTMENT SERVICE

Table departments {
  uuid varchar unique
  enterprise_uuid varchar
  title varchar
}

Table department_employees {
  department_uuid varchar
  user_uuid varchar
}

// APPLICATION SERVICE

Enum statuses {
  "created"
  "waiting"
  "in_progress"
  "complete"
  "paused"
  "dropped"
}

Table applications {
  uuid varchar
  title text
  description text
  status statuses
  author_uuid varchar
  department_uuid varchar
  executor_uuid varchar
  manager_uuid varchar
  fix_logs text[]
  closed_at timestamp
  created_at timestamp
}

Ref: enterprises.uuid < enterprise_employees.enterprise_uuid
Ref: users.uuid < enterprise_employees.user_uuid

Ref: departments.uuid < department_employees.department_uuid
Ref: users.uuid < department_employees.user_uuid

Ref: users.uuid < applications.author_uuid
Ref: users.uuid < applications.executor_uuid
Ref: users.uuid < applications.manager_uuid
Ref: departments.uuid < applications.department_uuid